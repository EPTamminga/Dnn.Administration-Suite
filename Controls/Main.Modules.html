<div id="nbr-admin-suite-modules" class="nbr-sub-menu">
	<ul class="actions">
		<li data-bind="click: ShowCopyModulePanel, visible: SelectedCategory()"><i class="fa fa-copy"></i> <span>Copy</span></li>
			
		<li data-bind="click: CloseSubMenu">
			<i class="fa fa-close"></i>
			<span>Close</span>
		</li>
	</ul>
    <ul class="module-list" data-bind="foreach: Categories">
        <li data-bind="click: $parent.SelectCategory, css: {selected: $parent.SelectedCategory() === $data}, visible: $parent.SelectedCategory() === null || $parent.SelectedCategory() === $data"><span data-bind="text: Name">Loading...</span></li>
    </ul>
	<ul class="module-list" data-bind="foreach: Modules">
		<li data-bind="click: $parent.ShowAddNewModuleDialog, css: {selected: $parent.SelectedModule() === $data}"><span data-bind="text: Name">Loading...</span></li>
	</ul>

	<div class="nbr-dialog">
		<h2 data-bind="visible: SelectedModule() == null">Copy/Share Modules</h2>
		<h2 data-bind="visible: SelectedModule() != null">Add a New Module</h2>
		<ul>
			<li data-bind="visible: SelectedModule() == null">
				<label>Page:</label>
				<select data-bind="options:Pages, optionsText: 'Name', optionsValue: 'Value', value: CopyModulePage"></select>
			</li>
			<li data-bind="visible: CopyModulePage() != undefined && CopyModulePage() != -1">
				<label>Module:</label>
				<select data-bind="options:PageModules, optionsText: 'Name', optionsValue: 'Value', value: CopyModuleId"></select>
			</li>
			
			<li data-bind="visible: SelectedModule() != null">
				<label>Title:</label>
				<input data-bind="hasFocus: FocusOnTitle, value: ModuleTitle" />
			</li>
			<li>
				<label>Visibility:</label>
				<select data-bind="value:ModuleVisibility">
					<option value="0">Same as Page</option>
					<option value="1">Page Editors Only</option>
					<option value="2">All Users</option>
					<option value="3">Administrators</option>
					<option value="4">Host Accounts</option>
				</select>
			</li>
			<li>
				<label>Position / Location:</label>
				<select style="width: 45%" data-bind="value:ModulePosition">
					<option value="TOP">Top</option>
					<option value="BOTTOM">Bottom</option>
				</select>
				<select style="width: 46%" data-bind="options:Panes, value: ModuleLocation"></select>
			</li>
			<li>
				<label>Container:</label>
				<select data-bind="options:Containers, optionsText: 'Name', optionsValue: 'Value', value: ModuleContainer"></select>
			</li>
		</ul>
		<button data-bind="click: AddModule, visible: SelectedModule() != null"><i class="fa fa-plus"/> Add Module</button>
		<button data-bind="click: CopyModule, visible: SelectedModule() == null"><i class="fa fa-copy"/> Copy Module</button>
		<button data-bind="click: ShareModule, visible: SelectedModule() == null"><i class="fa fa-share"/> Share Module</button>
		<button style="float:right;" data-bind="click: CloseDialog"><i class="fa fa-close"/> Cancel</button>
	</div>
</div>

